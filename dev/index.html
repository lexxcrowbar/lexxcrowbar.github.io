<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet">
    <title>Toiletten-Berechnung</title>
  </head>
  <body>
  
<h2>Toilettenberechnung f√ºr Veranstaltungen</h2>
	<div class="formitem">
		<label><input placeholder="Personenanzahl" type="text" name="anzahl" id="anzahl"></label>
		<label><button id="textfeld" type="button"> berechnen </button></label>
	</div>
	<p><div class="textfeld-msg"></div></p>
	<p><div class="DamenWC"></div></p>
	<p><div class="HerrenWC"></div></p>
	<p><div class="HerrenUrinal"></div></p>
	<p><div class="bf"></div></p>

<script>
document.querySelector('#textfeld').onclick = function () {
	 //----- Konstanten -------
  var personenAnzahl = document.querySelector("#anzahl").value;  
  //Damen
  var ladyTill100 = 3;
  var ladyMoreThan100 = 1.2;
  var ladyMoreThan1000 = 0.9;
  var ladyMoreThan20000 = 0.6;
  
  //Herren WC
  var gentWCTill100 = 1;
  var gentWCMoreThan100 = 0.4;
  var gentWCMoreThan1000 = 0.3;
  var gentWCMoreThan20000 = 0.2;
  
  //Herren Urinal
  var gentUriTill100 = 2;
  var gentUriMoreThan100 = 0.8;
  var gentUriMoreThan1000 = 0.6;
  var gentUriMoreThan20000 = 0.4;
  
  //----- Ergebnisse --------
  var damenWC;
  var damenBF;
  var herrenWC;
  var herrenBF;
  var herrenUrinal;
 
 
  
if (personenAnzahl > 20000 ) {
  
  var tempFaktor = (personenAnzahl-20000)/100;
  if (tempFaktor-Math.floor(tempFaktor)>0){
    tempFaktor=Math.floor(tempFaktor) + 1;
  }
  
  //Damen
  damenWC = ladyTill100+Math.ceil(9*ladyMoreThan100)+Math.ceil(190*ladyMoreThan1000)+Math.ceil(tempFaktor*ladyMoreThan20000);
  
  //Herren WC
  herrenWC = gentWCTill100+Math.ceil(9*gentWCMoreThan100)+Math.ceil(190*gentWCMoreThan1000)+Math.ceil(tempFaktor*gentWCMoreThan20000);
  
  //Herren Urinal
  herrenUrinal = gentUriTill100+Math.ceil(9*gentUriMoreThan100)+Math.ceil(190*gentUriMoreThan1000)+Math.ceil(tempFaktor*gentUriMoreThan20000);
}
  else if (personenAnzahl > 1000 ) {
    
    var tempFaktor = (personenAnzahl-1000)/100;
    if (tempFaktor-Math.floor(tempFaktor)>0){
      tempFaktor=Math.floor(tempFaktor) + 1;
    }
    
    //Damen
    damenWC = ladyTill100+Math.ceil(9*ladyMoreThan100)+Math.ceil(tempFaktor*ladyMoreThan1000);
    
    //Herren WC
    herrenWC = gentWCTill100+Math.ceil(9*gentWCMoreThan100)+Math.ceil(tempFaktor*gentWCMoreThan1000);
    
    //Herren Urinal
    herrenUrinal = gentUriTill100+Math.ceil(9*gentUriMoreThan100)+Math.ceil(tempFaktor*gentUriMoreThan1000);
  }
  else if (personenAnzahl > 100){
    
    var tempFaktor = (personenAnzahl-100)/100;
    if (tempFaktor-Math.floor(tempFaktor)>0){
      tempFaktor=Math.floor(tempFaktor) + 1;
    }
    
    //Damen
    damenWC = ladyTill100+Math.ceil(tempFaktor*ladyMoreThan100);
    
    //Herren WC
    herrenWC = gentWCTill100+Math.ceil(tempFaktor*gentWCMoreThan100);
    
    //Herren Urinal
    herrenUrinal = gentUriTill100+Math.ceil(tempFaktor*gentUriMoreThan100);
  }
  else if (personenAnzahl > 0){
    
    //Damen
    damenWC = ladyTill100;
    
    //Herren WC
    herrenWC = gentWCTill100;
    
    //Herren Urinal
    herrenUrinal = gentUriTill100;
    
  }  
  
  
  if (personenAnzahl >0){
	  
    damenBF = Math.ceil(damenWC/12);
    herrenBF = Math.ceil(herrenWC/12);
    document.querySelector('.textfeld-msg').innerHTML = "Es werden nach MVSt√§ttVO folgende Anzahlen an Toiletten ben√∂tigt: ";
    document.querySelector('.DamenWC').innerHTML = "Damen-WC: "+damenWC + " (BF*: " + damenBF + ")";
    document.querySelector('.HerrenWC').innerHTML = "Herren-WC: "+herrenWC + " (BF* " + herrenBF + ")";
    document.querySelector('.HerrenUrinal').innerHTML = "Herren-Urinal: "+herrenUrinal;
    document.querySelector('.bf').innerHTML = "* Anteil der Gesamtanzahl an barrierefreien Toiletten.";
    
      
  }
  else if (personenAnzahl == 0)
  {
    alert("dein Ernst? Ohne Besucher brauchst du auch nix zum reinpissen!");
  }
  else
  {
    alert("ung√ºltiger Wert");
  }
	

	
	}
</script>
	
	<div class="footer">
	  	<p>Built with ‚ô• and üí© by <a href="mailto:fabian.urner@gmail.com">fabi</a></p>
		<p>Alle Angaben ohne Gew√§hr! | inspired by <a href="https://de.wikipedia.org/wiki/Versammlungsst%C3%A4ttenverordnung">MVSt√§ttVO</a></p>
	</div>
  </body>
</html>
